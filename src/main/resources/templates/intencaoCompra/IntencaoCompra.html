<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    xmlns:th="http://www.thymeleaf.org"
    xmlns:data="http://www.thymeleaf.org/extras/data"
    xmlns:compraki="http://compraki.com.br"
    layout:decorate="~{layout/LayoutPadrao}">

<head>
    <title>Minha Conta</title>
    <link rel="stylesheet" type="text/css" th:href="@{/stylesheets/intencao-compra.css}"/>
</head>

<section layout:fragment="conteudo">
    <div class="row page-header">
    	<div class="container-fluid">
	        <div class="col-xs-11">
	            <h1>Nova Intenção de Compra</h1>
	        </div>
	       
        </div>
    </div>
   	<div class="container-fluid">
	    <form class="form-horizontal" method="post" th:action="@{/intencoes/novo}" th:object="${intencaoCompra}">
	    <input id="idHidden" type="hidden" th:field="*{codigo}"/>
	    <select id="acessoriosEscolhidos" class="hidden" th:field="*{acessorios}" multiple></select>
	    <select id="coresEscolhidas" class="hidden" th:field="*{cores}" multiple></select>
	    <compraki:message/>
    	<div class="panel panel-default">
    		<div class="panel-heading it-panelTituloLink">
    			<div class="clearfix">
	   				<h1 class="panel-title it-titulo-panel">Escolha as intenções desejadas</h1>
					<a class="btn btn-link it-link-panel" href="">Ver Intenções de Compras</a>
	   			</div>
    		</div>
    	</div>	
    		<div class="panel-body">
    		
    		 
    			
    		   <div class="row">
				<div class="form-group compraki-required" compraki:classforerror="marca" >
					<label for="marca" class="col-sm-2 control-label">Marca</label>
                 	<div class="col-sm-4">   
                    	<select id="marca" class="form-control js-select-search" th:field="*{marca}">
							<option value=""></option>
							<option th:each="fabricante : ${fabricantes}" th:text="${fabricante.nome}" th:value="${fabricante.codigo}"></option>
                    	</select>
                 	 </div>
				</div>
			  </div>
				<div class="row">
				<div class="form-group">
                    <label for="modelo" class="col-sm-2 control-label">Modelo</label>
                 	<div class="col-sm-4">   
                 		<input type="hidden" id="inputHiddenModeloSelecionado" th:value="*{modelo} != null ? *{modelo.codigo}"/>
                        <select id="modelo" class="form-control js-select-search" data:url="@{/intencoes/buscarModelos}" th:field="*{modelo}">
                        </select>
                 	 </div>
                </div> 
                </div>
               <div class="row">
                 <div class="form-group">
                   <label for="selectCores" class="col-sm-2 control-label" style="margin-top:90px;">Cores Desejadas</label>
               		<div class="form-group  col-sm-8" compraki:classforerror="cores">
		            <select id="selectCores" multiple="multiple" name="js-duallistbox">
                       <option th:each="cor : ${cores}" th:text="${cor.descricao}" 
                        th:value="|${cor.descricao}|" th:selected="${cor.selected ? true : false}"></option>
		            </select>
                	</div>
                </div>
               </div> 
                
               
               <div class="row">
                <div class="form-group compraki-required" compraki:classforerror="ano">
					<label for="ano" class="col-sm-2 control-label">Ano</label>
					<div class="col-sm-2"> 
						<input type="text" class="form-control" id="ano" th:field="*{ano}" placeholder="Ex: 2017 ou 16/17"/>
					</div>
				</div>
				</div>
				
				<div class="row">
				<div class="form-group">
				 <label for="valor" class="col-sm-2 control-label">Acessórios</label> 
                 <th:block th:each="acessorio : ${acessorios}">
                  <div class="checkbox checkbox-inline" style="margin-left:15px;">
                	<input type="checkbox" th:value="${acessorio.codigo}" th:field="*{acessorios}" />
                    <label style="padding-top:0px" th:text="${acessorio.descricao}"></label>
                  </div>
                 </th:block>
                </div>
                </div>
                         
				<div class="row">
				<div class="form-group compraki-required" compraki:classforerror="valor">
					<label for="valor" class="col-sm-2 control-label">Valor máximo que posso pagar</label>
					<div class="col-sm-2">   
						<input type="text" class="form-control js-decimal" id="valor" th:field="*{valor}"/>
					</div>
				</div>
				</div>
				<div class="row">
				<div class="form-group compraki-required" compraki:classforerror="tipoCombustivel">
                    <label for="modelo" class="col-sm-2 control-label">Tipo de Combustivel</label>
                 	<div class="col-sm-2">   
                 		<select id="tipoCombustivel" class="form-control js-select-search" th:field="*{tipoCombustivel}">
                         <option value=""></option>
                         <option th:each="tipoCombustivel : ${tiposCombustivel}" th:text="${tipoCombustivel.descricao}" th:value="${tipoCombustivel}"></option>
                    	</select>
                 	</div>
                </div> 
                </div>
                <div class="row">
				<div class="form-group compraki-required" compraki:classforerror="outrasCaracterísticas">
					<label for="outrasCaracteristicas" class="col-sm-2 control-label">Outras características</label>
					<div class="col-sm-5">   
						<input type="text" class="form-control" id="outrasCaracteristicas" th:field="*{outrasCaracterísticas}"
						placeholder="Ex: Único dono ; Sem defeito na pintura... "/>
					</div>
				</div>
				</div>
				<div class="row">
				<div class="form-group compraki-required" compraki:classforerror="potencia">
					<label for="potencia" class="col-sm-2 control-label">Potência do Veiculo</label>
					<div class="col-sm-2">   
						<select id="potencia" class="form-control js-select-search" th:field="*{potencia}">
                         <option value=""></option>
                         <option th:each="potencia : ${potencias}" th:text="${potencia.descricao}" th:value="${potencia}"></option>
                    	</select>
						</div>
				</div>
				</div>
				<div class="row">
				<div class="form-group" compraki:classforerror="descricao">
					<label for="descricao" class="col-sm-2 control-label">Descrição do Veiculo</label>
					<div class="col-sm-5">   
						<textarea rows="5" class="form-control" id="descricao" th:field="*{descricao}" 
						placeholder="Ex: Quero um veiculo de +-R$27.000,00, palio ou semelhante... "></textarea>
					</div>
				</div>
				</div>
				<div class="row">
				<div class="form-group compraki-required" compraki:classforerror="tipoDeRoda">
					<label for="tipoDeRoda" class="col-sm-2 control-label">Tipo de roda</label>
					<div class="col-sm-3">   
						<input type="text" class="form-control" id="tipoDeRoda" th:field="*{tipoDeRoda}" placeholder="Ex:Alumínio, Ferro..."/>
					</div>
				</div>
				<div class="form-group " compraki:classforerror="aroRoda">
					<label for="aroRoda" class="col-sm-2 control-label">Aros desejados da roda</label>
					<div class="col-sm-2">   
						<input type="text" class="form-control" id="aroRoda" th:field="*{aroRoda}" placeholder="Ex:16 ou 17"/>
					</div>
				</div>
				</div>
				<div class="row">
				<div class="form-group compraki-required">
                    <label for="uf" class="col-sm-2 control-label">Estado de preferência</label>
                 	<div class="col-sm-2">   
                    	<select id="uf" class="form-control js-select-search" th:field="*{uf}">
							<option value=""></option>
							<option th:each="uf : ${ufs}" th:text="${uf.nome}+' ('+${uf.sigla} + ')'" th:value="${uf.sigla}"></option>
						</select>
                 	 </div>
                </div>
                
                <div class="form-group compraki-required">
                	<label for="cidade" class="col-sm-2 control-label">Cidade de Preferência</label>
                	<div class="col-sm-3">    
                    	<input type="hidden" id="inputHiddenCidadeSelecionada" th:value="*{cidadePreferencia} != null ? *{cidadePreferencia.codigo}"/>
                    	<select id="cidade" class="form-control js-select-search" data:url="@{/intencoes/buscarCidades}" th:field="*{cidadePreferencia}">                    	
                    	</select>
                 	 </div>
                 	  
                </div>
                </div>      
               <div class="form-group">
					<div class="col-sm-offset-2 col-sm-10">
						<button type="submit" class="btn btn-primary">Salvar</button>
					</div>
				</div>
		   </div>
		   
		  
    </form>
    </div>
</section>
<th:block layout:fragment="javascript-extra">
    <script th:src="@{/javascripts/intencao-compra.js}"></script>
</th:block>
</html>